{% extends "base.html"%}

{% load static %}

{% block content %}
<table class="table table-zebra table-bordered" id="data_list">
    <thead>
        <tr>
            <th data-col="name">Power Meter</th>
            <th data-col="kwm">kW last minute</th>
            <th data-col="kwh">kW last hour</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>
{% endblock %}

{% block javascript %}
<script src="{% static 'js/events/event_manager.js' %}?v1"></script>
<script src="{% static 'js/power_meters/overview.js' %}?v1"></script>
<script>
    var event_manager = new aiot.events.EventManager({
        on_event: aiot.power_meters.overview.on_event,
        url: {{ events_url|safe }},
        stream: true
    });
    event_manager.start();
</script>
{% endblock %}
